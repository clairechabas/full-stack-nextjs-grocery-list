(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2732)}])},2732:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(1799);function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var i=n(5893),l=n(9008),c=n.n(l),o=n(7294),u=(0,n(3713).x3)(),a=function(e){var t=e.children;return(0,i.jsx)("div",{className:"h-screen flex flex-col justify-center items-center bg-slate-100",children:t})},d=function(e){var t=e.children;return(0,i.jsx)("div",{className:"bg-white w-5/6 md:w-4/6 lg:w-3/6 xl:w-2/6 rounded-lg drop-shadow-md",children:t})},h=function(e){var t=e.title,n=e.listLength,r=e.clearAllFn;return(0,i.jsxs)("div",{className:"flex flex-row items-center justify-between p-3 border-b border-slate-200",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,i.jsx)("h1",{className:"text-base font-medium tracking-wide text-gray-900 mr-2",children:t}),(0,i.jsx)("span",{className:"h-5 w-5 bg-blue-200 text-blue-600 flex items-center justify-center rounded-full text-xs",children:n})]}),(0,i.jsx)("button",{className:"text-sm font-medium text-gray-600 underline",type:"button",onClick:r,children:"Clear all"})]})},f=function(e){var t=e.children;return(0,i.jsx)("div",{className:"overflow-y-auto h-72",children:t})},m=function(e){var t=e.item,n=e.onUpdate;return(0,i.jsxs)("div",{className:"h-12 border-b flex items-center justify-start px-3",children:[(0,i.jsx)("input",{type:"checkbox",className:"w-4 h-4 border-gray-300 rounded mr-4",defaultChecked:t.checked,onChange:function(){return null===n||void 0===n?void 0:n(t)}}),(0,i.jsx)("h2",{className:"text-gray-600 tracking-wide text-sm",children:t.title})]})},x=(0,o.memo)(m),p=function(e){var t=e.value,n=e.onChange,r=e.submit;return(0,i.jsx)("form",{className:"bg-white w-5/6 md:w-4/6 lg:w-3/6 xl:w-2/6 rounded-lg drop-shadow-md mt-4",onSubmit:r,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",className:"w-full py-4 pl-3 pr-16 text-sm rounded-lg",placeholder:"Grocery item name...",onChange:n,value:t}),(0,i.jsx)("button",{className:"absolute p-2 text-white -translate-y-1/2 bg-blue-600 rounded-full top-1/2 right-4",type:"submit",children:(0,i.jsx)("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})})},b=function(){var e,t=(0,o.useState)(""),n=t[0],l=t[1],m=u.useQuery(["findAll"]),b=m.data,j=m.refetch,v=u.useMutation(["InsertOne"],{onSuccess:function(){return j()}}),w=u.useMutation(["DeleteAll"],{onSuccess:function(){return j()}}),g=u.useMutation(["UpdateOne"],{onSuccess:function(){return j()}}),y=(0,o.useCallback)((function(){""!==n&&(v.mutate({title:n}),l(""))}),[n,v]),k=(0,o.useCallback)((function(){(null===b||void 0===b?void 0:b.length)&&w.mutate({ids:b.map((function(e){return e.id}))})}),[b,w]),N=(0,o.useCallback)((function(e){g.mutate(s((0,r.Z)({},e),{checked:!e.checked}))}),[g]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Grocery List"}),(0,i.jsx)("meta",{name:"description",content:"Managing your groceries list has never been that fun"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("main",{children:(0,i.jsxs)(a,{children:[(0,i.jsxs)(d,{children:[(0,i.jsx)(h,{title:"Grocery List",listLength:null!==(e=null===b||void 0===b?void 0:b.length)&&void 0!==e?e:0,clearAllFn:k}),(0,i.jsx)(f,{children:null===b||void 0===b?void 0:b.map((function(e){return(0,i.jsx)(x,{item:e,onUpdate:N},e.id)}))})]}),(0,i.jsx)(p,{value:n,onChange:function(e){return l(e.target.value)},submit:y})]})})]})}},9008:function(e,t,n){e.exports=n(5443)}},function(e){e.O(0,[774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);